{% extends 'layout.twig' %}

{% block title %}Éditer vélo{% endblock %}

{% block content %}
  <h1>{{ velo ? 'Éditer le vélo' : 'Nouveau vélo' }}</h1>

  <form method="post" action="/velos/{{ velo ? velo.id : 0 }}/edit">
    <div class="form-field">
      <label for="client_id">Client</label>
      <select id="client_id" name="client_id" required>
        <option value="">-- Choisir --</option>
        {% for c in clients %}
          <option value="{{ c.id }}" {% if (velo and velo.client_id == c.id) or (selectedClientId is defined and selectedClientId == c.id) %}selected{% endif %}>{{ c.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="form-field">
      <label for="brand">Marque</label>
      <input id="brand" name="brand" type="text" value="{{ velo.brand|default('') }}">
    </div>

    <div class="form-field">
      <label for="model">Modèle</label>
      <input id="model" name="model" type="text" value="{{ velo.model|default('') }}">
    </div>

    <div class="form-field">
      <label for="serial">Numéro de série</label>
      <input id="serial" name="serial" type="text" value="{{ velo.serial|default('') }}">
    </div>

    <div class="form-field">
      <label for="notes">Notes</label>
      <textarea id="notes" name="notes">{{ velo.notes|default('') }}</textarea>
    </div>

    <button class="btn" type="submit">Enregistrer</button>
  </form>
{% endblock %}
